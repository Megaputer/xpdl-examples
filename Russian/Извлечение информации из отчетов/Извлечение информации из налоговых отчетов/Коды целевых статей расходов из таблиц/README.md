### Описание
Правило ищет упоминания кодов целевых статей расходов в таблицах.

### Примеры найденных сущностей
| N п/п | Целевая статья | Наименование межбюджетного трансферта |
|--|--|--|
| 1 | **01 1 00 S5550** |**Субсидии бюджетам муниципальных образований на организацию и проведение акарицидных обработок мест массового отдыха населения в рамках подпрограммы "Профилактика заболеваний и формирование здорового образа жизни.**|

### Инструкция
* Создать новый проект в платформе [PolyAnalyst](https://www.megaputer.ru/produkti/)
* Загрузить в проект файл [**Данные_Коды_ЦСР.docx**](Данные_Коды_ЦСР.docx)
* Добавить узел **Извлечение сущностей**, в настройках узла:
	 * отключить стандартные сущности
	 * создать новую пользовательскую сущность
	 * открыть **Редактор правил** новой сущности и скопировать в него правило [**Коды_ЦСР.txt**](Коды_ЦСР.txt):
	 ```  
	rule: коды в таблицах
	{
		query: {length(5, repeat(table(char(digit|alnum) or length(1,2) or regex("ХХ\w+")),	// варианты записи кода
						  column:=код or "целевая статья"))}:code 		// ищем только в колонках, в названии которых есть слова "код" или "целевая статья"
			          					
		rule: наименование
		{
			query: {fnear($code, 
						{table(column:=наименование, match:=cell)}:name		//извлекает ячейки колонок, в названии которых есть слово "наименование"
					)}:res
		
			result: Результат = $res
				attribute: Код = $code
				attribute: Наименование = $name
		}
	}
	```
     ИЛИ
  * импортировать файл [**Коды_ЦСР.xml**](Коды_ЦСР.xml), в котором дополнительно настроена постобработка (удаление из кода пробелов)
  * выполнить узел

### Структура сущности
* **Результат** - общий вывод найденной сущности
* **Код** - полный код целевой статьи расходов
* **Наименование** - описание целевой статьи расходов

### Отчет узла
Отчет узла **Извлечение сущностей** *без применения постобработки* выглядит следующим образом:

| Результат | Код | Наименование|
| ------ | ------ | ------ |
| 01 1 00 S5550 Субсидии бюджетам муниципальных образований на организацию и проведение акарицидных обработок мест массового отдыха населения в рамках подпрограммы "Профилактика заболеваний и формирование здорового образа жизни. | 01 1 00 S5550 | Субсидии бюджетам муниципальных образований на организацию и проведение акарицидных обработок мест массового отдыха населения в рамках подпрограммы "Профилактика заболеваний и формирование здорового образа жизни.|

Отчет узла **Извлечение сущностей** *с применением постобработки* выглядит следующим образом:

| Результат | Код | Наименование|
| ------ | ------ | ------ |
| 01 1 00 S5550 Субсидии бюджетам муниципальных образований на организацию и проведение акарицидных обработок мест массового отдыха населения в рамках подпрограммы "Профилактика заболеваний и формирование здорового образа жизни. | 01100S5550 | Субсидии бюджетам муниципальных образований на организацию и проведение акарицидных обработок мест массового отдыха населения в рамках подпрограммы "Профилактика заболеваний и формирование здорового образа жизни.|

В тексте подсвечиваются следующие фрагменты:
>  1  **01 1 00 S5550** **Субсидии бюджетам муниципальных образований на организацию и проведение акарицидных обработок мест массового отдыха населения в рамках подпрограммы "Профилактика заболеваний и формирование здорового образа жизни.**
