### Описание
Правило ищет код бюджетной классификации (КБК). КБК состоит из 20 цифр и содержит информацию о главном администраторе дохода бюджета (первые три цифры), группе доходов (следующая одна цифра), подгруппе доходов (следующие две цифры), статье доходов (следующие пять цифр), элементе доходов (следующие две цифры), группе подвида доходов бюджета (следующие четыре цифры) и аналитической группе подвида доходов бюджета (последние три цифры). Правило выделяет каждый элемент КБК в соответствующую отдельную колонку таблицы.

### Примеры найденных сущностей
* КБК **182 1 02 02090 07 1010 160**
* КБК **182 1 08 01000 01 1000 110**

### Инструкция
* Создать новый проект в платформе [PolyAnalyst](https://www.megaputer.ru/produkti/)
* Загрузить в проект файл [**Данные_КБК.txt**](Данные_КБК.txt)
* Добавить узел **Извлечение сущностей**, в настройках узла:
	 * отключить стандартные сущности
	 * создать новую пользовательскую сущность
	 * открыть **Редактор правил** новой сущности и скопировать в него правило [**КБК.txt**](КБК.txt):
	 ```  
	rule: КБК 
	{
		query: follow(form(КБК), 
		
		{phrase(0, {length(3, 3, number())}:код_администратора, 
			       {length(1, 1, number())}:группа_доходов,
				   {length(2, 2, number())}:подгруппа,
				   {length(5, 5, number())}:статья,
				   {length(2, 2, number())}:элемент_доходов,
				   {length(4, 4, number())}:группа_подвида,
				   {length(3, 3, number())}:аналитическая_группа
				  
				  )}:m)

		result: Код = $m 
			attribute: Код главного администратора дохода бюджета = $код_администратора
			attribute: Группа доходов = $группа_доходов
			attribute: Подгруппа доходов = $подгруппа
			attribute: Статья доходов = $статья
			attribute: Элемент доходов = $элемент_доходов
			attribute: Группа подвида доходов бюджета = $группа_подвида
			attribute: Аналитическая группа подвида доходов бюджета = $аналитическая_группа
			
	}
	```
     ИЛИ
  * импортировать файл [**КБК.xml**](КБК.xml), в котором дополнительно настроена постобработка (замена цифровых кодов **Группы подвида доходов бюджета** и **Аналитическая группа подвида доходов бюджета** на их словесные расшифровки)
  * выполнить узел

### Структура сущности
* **Код** - полный код бюджетной классификации 
* **Код главного администратора дохода бюджета** - код администратора поступлений, состоит из трех знаков (например, "182")
* **Группа доходов** - код группы доходов, состоит из одного знака (например, "1")
* **Подгруппа доходов** - код подгруппы доходов, состоит из двух знаков (например, "01)
* **Статья доходов** - код статьи и подстатьи доходов, состоит из пяти знаков (например, "02020")
* **Элемент доходов** - код элемента доходов, состоит из двух знаков (например, "01")
* **Группа подвида доходов бюджета** - код группы подвида доходов бюджета, состоит из четырех знаков (например, "3000")
* **Аналитическая группа подвида доходов бюджета** - код аналитической группы подвида доходов бюджета, состоит из трех знаков (например, "110")
### Отчет узла
Отчет узла **Извлечение сущностей** *без применения постобработки* выглядит следующим образом:

| Код | Код главного администратора дохода бюджета| Группа доходов| Подгруппа доходов| Статья доходов | Элемент доходов | Группа подвида доходов бюджета | Аналитическая группа подвида доходов бюджета |
| ------ | ------ | ------ | ------ | ------ |  ------ |  ------ |  ------ | 
| 182 1 01 02020 01 3000 110 | 182 | 1| 01 | 02020 | 01 | 3000 |  110 |

Отчет узла **Извлечение сущностей** *с применением постобработки* выглядит следующим образом:

| Код | Код главного администратора дохода бюджета| Группа доходов| Подгруппа доходов| Статья доходов | Элемент доходов | Группа подвида доходов бюджета | Аналитическая группа подвида доходов бюджета |
| ------ | ------ | ------ | ------ | ------ |  ------ |  ------ |  ------ | 
| 182 1 01 02020 01 3000 110 | 182 | 1| 01 | 02020 | 01 | Штрафы|  Налоговые доходы|

В тексте подсвечиваются следующие фрагменты:
>	КБК Код **182 1 01 02020 01 3000 110**
	Рез. поле	35920488