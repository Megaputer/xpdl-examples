### Описание
Правило ищет информацию о задержке авиарейсов в различных городах.

### Примеры найденных сущностей
* были **задержаны** вылеты **авиарейсов в Санкт-Петербурге**
*  **задержаны** более 10 **авиарейсов в пермском аэропорту**

### Инструкция
* Создать новый проект в платформе [PolyAnalyst](https://www.megaputer.ru/produkti/)
* Загрузить в проект файл [**Данные_Задержка_авиарейсов.txt**](Данные_Задержка_авиарейсов.txt)
* Добавить узел **Извлечение сущностей**, в настройках узла:
	* отключить все стандартные сущности, кроме сущности **GeoAdministrative** 
	* выполнить узел
* Добавить еще один узел **Извлечение сущностей**, в настройках узла:
	 * отключить стандартные сущности
	 * создать новую пользовательскую сущность
	 * открыть **Редактор правил** новой сущности и скопировать в него правило [**Задержка_авиарейсов.txt**](Задержка_авиарейсов.txt):
	 ```
	/* Ищем информацию о задержке авиарейсов в различных городах */
	rule: airline
	{
		/* Ищем упоминание задержки авиарейсов в предложении */
		query: {snear(8, задержка or задержать, авиарейсов)}:match
		
		/* Ищем пункт отправления/назначения */
		rule: airport
		{
			query: {phrase(6, $match, в, optional(аэропорт),
						
						/* Ищем географические названия */
						phrase(4, not ";", {entity(GeoAdministrative) or phrase(lemma(adjective), аэропорт)}:geo))
						
						
						}:match2
		
			result: Результат = $match2
				attribute: Статус рейса = "Задержка авиарейса"
				attribute: Аэропорт = totitle(norm(toentity(GeoAdministrative, $geo, field:=Name)))
			
		} /* airport */
	} /* airline */ 
	```
	 * выполнить узел

### Структура сущности
* **Результат** - общий вывод найденной сущности
* **Статус рейса** - статус авиарейса
* **Аэропорт**  - аэропорт или город, в котором были задержаны авиарейсы

### Отчет узла
Отчет узла **Извлечение сущностей** выглядит следующим образом:

| Результат| Статус рейса | Аэропорт | 
| ------ | ------ |------ |
| задержаны авиарейсов в Казани | Задержка авиарейса | Казань|

В тексте подсвечиваются следующие фрагменты:
> По причине неподходящих метеоусловий были **задержаны** вылеты **авиарейсов в Казани.**