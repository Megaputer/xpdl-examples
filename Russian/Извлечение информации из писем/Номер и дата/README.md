### Описание
Правило ищет номер и дату письма.

### Примеры найденных сущностей
* **24.05.2018 № 17-102-4545** О согласовании технических условий
* **12.07.2019 № ЗТ/ИУ1450-89** Об электроприводах к трубопроводной арматуре 

### Инструкция
* Создать новый проект в платформе [PolyAnalyst](https://www.megaputer.ru/produkti/)
* Загрузить в проект файл [**Данные_Номер_и_дата.txt**](Данные_Номер_и_дата.txt)
* Добавить узел **Извлечение сущностей**, в настройках узла:
	* отключить все стандартные сущности, кроме сущности **Dates** (Даты)
	* выполнить узел
* Добавить еще один узел **Извлечение сущностей**, в настройках узла:
	 * отключить стандартные сущности
	 * создать новую пользовательскую сущность
	 * открыть **Редактор правил** новой сущности и скопировать в него правило [**Номер_и_дата.txt**](Номер_и_дата.txt):
	 ```
	rule: поиск_номера 
	{
	query: {position(100, phrase(№, {repeat(1, 5, number() or "-" or "/" or case(upper))}:номер))}:м
	
		rule: дата_исходящего
		{
			query: {phrase({entity(Dates)}:дата, $м)}:м_дата
			
			result: Match = $м_дата
				attribute: Тип = "Исходящий"
				attribute: Номер = $номер
				attribute: Дата = toentity(Dates, $дата)
		} 
		
		rule: дата_входящего
		{
			query: {phrase($м, от, {entity(Dates)}:дата)}:м_дата
			
			result: Match = $м_дата
				attribute: Тип = "Входящий"
				attribute: Номер = $номер
				attribute: Дата = toentity(Dates, $дата)
		} 	
	}
	```
	 * выполнить узел

### Структура сущности
* **Тип** - тип письма
* **Номер** - номер письма
* **Дата** - дата написания письма

### Отчет узла
Отчет узла **Извлечение сущностей** выглядит следующим образом:

| Тип| Номер| Дата | 
| ------ | ------ | ------ |
| Исходящий | 006-155/48868 | Июнь 24, 2021 |

В тексте подсвечиваются следующие фрагменты:
> **24.06.2021 № 006-155/48868**
> О согласовании дополнения №1
> к ТЗ на ШП-ВТК.