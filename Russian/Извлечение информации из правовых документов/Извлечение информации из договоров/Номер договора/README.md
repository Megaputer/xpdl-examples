### Описание
Правило ищет упоминания номеров договоров.

### Примеры найденных сущностей
* **Договор** возмездного оказания услуг **№ 6/15С**
* **Договор** об оказании услуг **№ 14T07**

### Инструкция
* Создать новый проект в платформе [PolyAnalyst](https://www.megaputer.ru/produkti/)
* Загрузить в проект файл [**Данные_Номер_Договора.txt**](Данные_Номер_Договора.txt)
* Добавить узел **Извлечение сущностей**, в настройках узла:
	 * отключить стандартные сущности
	 * создать новую пользовательскую сущность
	 * открыть **Редактор правил** новой сущности и скопировать в него правило [**Номер_Договора.txt**](Номер_Договора.txt):
	```
	rule: номер договора
	{	/* Номер указывается в начале договора, поэтому мы используем функцию position() для поиска в рамках первых 50 слов текста*/
	    query: {position(50,		

		/* Номер указывается после типа договора, поэтому мы ищем его на расстоянии не более 5 слов от слова "Договор". 
		   Эти пять слов отведены для предполагаемого типа договора, например "Договор об оказании услуг"*/
					phrase(5, договор, 	
					
	    /* Сразу перед номером договора может встретиться значок "№" */	
					      phrase(optional("№"), 
					      
	    /* Номер договора это цифра: number() или же последовательность цифр и букв: char(alnum). Пример: № 14T07
		   Иногда номер также содержит знаки "-" или "/", после которых следуют цифры и/или буквы (не более 2): repeat(1,2,number() or length(1,2) or char(alnum)). Пример: № 6/15С */						   			  
								{phrase(number() or char(alnum), optional("-" or "/"), optional(repeat(1,2,number() or length(1,2) or char(alnum))))}:номер
						  
					  )))}:договор

		 result: Договор = $договор
		       attribute: Номер = $номер
	}
	```
	 * выполнить узел

### Структура сущности
* **Договор** - полная форма записи номера договора
* **Номер** - номер договора

### Отчет узла
Отчет узла **Извлечение сущностей** выглядит следующим образом:

| Договор| Номер |
| ------ | ------ |
| Договор № 0206-42|0206-42|
| Договор № 124/A| 124/A |
| Договор № 14|14|

В тексте подсвечиваются следующие фрагменты:
> **Договор № 0206-42**
> **Договор** возмездного оказания услуг **№ 124/A**
> **Договор** на перевозку грузов **№ 14**

